<h1 align="center">The Truck Platooning Using Autonomous Driving  </h1>


<h4 align="center">Turtle Botì„ í™œìš©í•œ í™”ë¬¼ì°¨ ììœ¨ êµ°ì§‘ì£¼í–‰</h4>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 
 
 
<p align= "center">
<img src=/docs/README_Image/readme.png width=600 height=400></p> 
 
<h3 align="center">Team Member</h3>

<div align = "center">
í™í˜•ë½<a href ="https://github.com/blackbeandu" ><img alt = "í™í˜•ë½" src = "https://img.shields.io/badge/github-go-yellow?logo=github" ></a>
ì´ì„ ì¬<a href ="https://github.com/sunnyleeee" ><img alt = "ì´ì„ ì¬" src = "https://img.shields.io/badge/github-go-blue?logo=github" ></a>
ì¥ë™í˜„<a href ="https://github.com/J-DongHyeon" ><img alt = "ì¥ë™í˜„" src = "https://img.shields.io/badge/github-go-green?logo=github" ></a>
</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;


------------------------------------------

# 1. ê¸°íš ê³„ê¸°
<p align= "center">
<img src=/docs/README_Image/SUB.png width=600 height=400></p> 


> &nbsp;ì½”ë¡œë‚˜ê°€ ì§€ì†ë¨ì— ë”°ë¼ ë§ì€ ì‚¬ëŒë“¤ì´ ì˜¤í”„ë¼ì¸ì—ì„œì˜ ì†Œë¹„ë³´ë‹¤ **ì˜¨ë¼ì¸ì—ì„œ ì†Œë¹„**ë¥¼ í•˜ëŠ” ê²½ìš°ê°€ ë” ë§ì•„ì¡Œë‹¤. <br>ì¦‰, ì˜¨ë¼ì¸ ì†Œë¹„ê°€ ë§ì•„ì§ì— ë”°ë¼ **ìš´ì†¡ì—… ì—…ë¬´ê°€ ì¦ê°€**í–ˆë‹¤. ìœ„ë“œì½”ë¡œë‚˜ê°€ ì‹œì‘ë¨ì— ë”°ë¼ ê¸°ì¡´ì˜ ì†Œë¹„ ìŠµê´€ìœ¼ë¡œ ëŒì•„ê°€ ìš´ì†¡ì—…ë¬´ëŸ‰ì— ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ í˜„ì¬ ì¼ìƒì´ íšŒë³µë˜ê³  ìˆìŒì—ë„ **ì‚¬ëŒë“¤ì€ ì§‘ì—ì„œ ì‹œì¼œ ì§‘ì—ì„œ ë°›ëŠ” ë¬¸í™”ì— ìµìˆ™í•´ì¡Œë‹¤.** ê·¸ë¦¬í•˜ì—¬ ì—ì´ë¸”ë¦¬, SSG ìœ„ë“œ ì½”ë¡œë‚˜ ì´í›„ ë™ì¼í•˜ê±°ë‚˜ ê·¸ ì´ìƒì˜ ì‹¤ì ì„ ì˜¬ë¦¬ê¸°ë„ í•˜ì˜€ë‹¤. ì´ë ‡ë“¯ ë°”ë€ ì†Œë¹„ ìŠµê´€ì„ ê¸°ë°˜ìœ¼ë¡œ ìš´ì†¡ì—…ì—ì„œ `ì¤‘ì•™ ì§‘ì¤‘í˜• ììœ¨ êµ°ì§‘ì£¼í–‰`ì„ ì ìš©í•œë‹¤ë©´ ì¸ê±´ë¹„ ë° ì—°ë¹„ ê°ì†Œ ë“± ì—¬ëŸ¬ ì´ì ì´ ìˆë‹¤.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 
# 2. ì‚¬ìš©ê¸°ê¸° ë° ê°œë°œí™˜ê²½

<p align= "center">
 <img src="/docs/README_Image/turtlebot3-burger.png" width="400" height="400"></p>
 
> &nbsp;`TurtleBot3 Burger`ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤. TurtleBot3ì€ êµìœ¡, ì—°êµ¬, ì·¨ë¯¸ ë° ì œí’ˆ í”„ë¡œí† íƒ€ì´í•‘ì— ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì‘ê³  ì €ë ´í•˜ë©° í”„ë¡œê·¸ë˜ë° ê°€ëŠ¥í•œ **ROS ê¸°ë°˜ ëª¨ë°”ì¼ ë¡œë´‡**ì´ë‹¤.
> TurtleBot3ëŠ” ê¸°ê³„ ë¶€í’ˆì„ ì–´ë–»ê²Œ ì¬êµ¬ì„±í•˜ê³  ì»´í“¨í„°, ì„¼ì„œ ë“±ì˜ ì˜µì…˜ ë¶€í’ˆì„ ì‚¬ìš©í•˜ëŠëƒì— ë”°ë¼ ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ `ì»¤ìŠ¤í„°ë§ˆì´ì§•`ì´ ê°€ëŠ¥í•˜ì—¬ ì²´íƒí•˜ê²Œ ë˜ì—ˆë‹¤.
</br></br>

<p align= "center">
<img src="/docs/README_Image/inv.png" width="700" height="250"></p>  

>  &nbsp;`ROS`ë¡œ Turtle Botì˜ êµ¬ë™ì„ ì§„í–‰ì‹œì¼°ë‹¤. ROSë¥¼ ìœ„í•˜ì—¬ Ubuntu 16.04 LTS Desktop ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤. 
>  (18.04ëŠ” í˜¸í™˜ ì˜¤ë¥˜ê°€ ë°œìƒ)

</br></br>

# 3. í”„ë¡œì íŠ¸ ë‚´ìš©  
### OpenCVë¥¼ ì´ìš©í•œ Line-detection
 * Intrinsic_calibration </br>
   <img src="/docs/README_Image/calibration0.png" width="350" height="225">
   <img src="/docs/README_Image/calibration1.png" width="350" height="225"></p>
   checkerboardë¥¼ ì´ìš©í•˜ì—¬ ì¹´ë©”ë¼ì˜ ë‚´ë¶€ íŒŒë¼ë¯¸í„°ë¥¼ êµ¬í•œë‹¤. ê³„ì‚°ëœ ì¹´ë©”ë¼ ë‚´ë¶€ íŒŒë¼ë¯¸í„°ë¥¼ <mark>.yaml</mark> íŒŒì¼ì— ì €ì¥í•œë‹¤.</br></br>
   
    <img src="/docs/README_Image/calibration2.png" width="300" height="300">
    <img src="/docs/README_Image/calibration_value.png" width="300" height="300"></br>
    
 >  &nbsp; TurtleBotì´ ë‚´ë¶€ íŒŒë¼ë¯¸í„°ë¥¼ êµ¬í•˜ëŠ” ëª¨ìŠµ
 </br>
 <hr>
   <p>
   <img src="/docs/README_Image/line_detecting3.png" width="200" height="160">
   <img src="/docs/README_Image/line_detecting4.png" width="200" height="160">
   <img src="/docs/README_Image/line_detecting5.png" width="200" height="160">
   <img src="/docs/README_Image/line_detecting6.png" width="200" height="160"><p>
 
 >  &nbsp; ì¢Œì¸¡ë¶€í„° 1ë²ˆ

 * Extrinsic_calibration (ğŸ–¼ 1, 2)</br> 
   ì¹´ë©”ë¼ê°€ ë³´ëŠ” ê°ë„ì˜ imageì— íŠ¹ì • 4ê°œ ì¢Œí‘œë¥¼ êµ¬í•œë‹¤. openCVì˜ findHomography í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ì•ì„œ êµ¬í•œ íŠ¹ì • 4ê°œì˜ ì¢Œí‘œë¥¼ ë‚´ê°€ ì›í•˜ëŠ” 4ê°œ </br>
   ì¢Œí‘œë¡œ ë³€í™˜ ì‹œí‚¤ëŠ” ë³€í™˜ í–‰ë ¬ì„ êµ¬í•œë‹¤. ì´ ë³€í™˜ í–‰ë ¬ì„ ê¸°ì¡´ ì´ë¯¸ì§€ì— ì ìš©í•˜ì—¬ Top View ì´ë¯¸ì§€ í˜•íƒœë¡œ ë³€í™˜ ì‹œí‚¨ë‹¤.
 * Detect_lane (ğŸ–¼ 3, 4)</br>
   ë„ë¡œ Top View ì´ë¯¸ì§€ë¥¼ BGRëª¨ë¸ì—ì„œ HSVëª¨ë¸ë¡œ ë³€í˜• ì‹œí‚¨ í›„, ë…¸ë€ìƒ‰ê³¼ í•˜ì–€ìƒ‰ì˜ HSV 
   ë²”ìœ„ë¥¼ ì ë‹¹í•˜ê²Œ ì„¤ì •í•˜ì—¬ ì™¼ìª½, ì˜¤ë¥¸ìª½ ì°¨ì„  ë§ˆìŠ¤í¬ë¥¼ êµ¬í•œë‹¤.
 <p align = "center"><img src="/docs/README_Image/line_detecting7.png" width="340" height="300"></p>
 
 >  &nbsp; **[ê²°ê³¼]** ê° ë§ˆìŠ¤í¬ë¥¼ ì´ìš©í•˜ì—¬ ì™¼ìª½ ì°¨ì„ , ì˜¤ë¥¸ìª½ ì°¨ì„  xì¢Œí‘œë¥¼ êµ¬í•˜ê³ , ì´ ë‘ ê°’ì˜ í‰ê· ìœ¼ë¡œ ë„ë¡œ ì¤‘ì•™ì— í•´ë‹¹í•˜ëŠ” xì¢Œí‘œë¥¼ êµ¬í•œë‹¤
 </br>

### ROSì™€ OpenCRì„ í™œìš©í•œ ììœ¨ì£¼í–‰ </br>
<p align= "center">
<img src="/docs/README_Image/diagram4.png" width="700" height="250"></p>

* Control_lane </br>
   Detect_laneì—ì„œ êµ¬í•œ ë„ë¡œ ì¤‘ì•™ xì¢Œí‘œë¥¼ ì´ìš©í•˜ì—¬ car1 ì¹´ë©”ë¼ì˜ ì¤‘ì•™ì´ ê·¸ì™€ 
   ê°™ì•„ì§€ë„ë¡ PD ì œì–´ë¥¼ í•œë‹¤. PDì œì–´ë¥¼ í†µí•´ ê³„ì‚°ëœ ëª¨í„° ì œì–´ ê°’ì„ car1ì— publishí•œë‹¤.</br>

 </br>

### ì¤‘ì•™ê´€ë¦¬ ì‹œìŠ¤í…œì„ ì ìš©í•œ ììœ¨ êµ°ì§‘ì£¼í–‰

<p align= "center">
<img src="/docs/README_Image/diagram0.png" width="700" height="380"></p>
Step 1. Car1ì€ ìì‹ ì˜ ì¹´ë©”ë¼ë¥¼ ì¼œê³  raw image dataì„ Remote PCë¡œ ë³´ë‚¸ë‹¤.</br></br>
Step 2. Remote PCë¡œë¶€í„° ì°¨ì„  ì¸ì‹ í›„ ê³„ì‚°ëœ ëª¨í„° ì œì–´ ê°’ì„ subscribe í•˜ì—¬ ììœ¨ ì£¼í–‰ì„ í•œë‹¤.</br></br>
Step 3. Car2ëŠ” ì¹´ë©”ë¼ë¥¼ offí•˜ê³  ììœ¨ ì£¼í–‰ í•˜ì§€ ì•Šì€ ì±„ë¡œ Car1ì— ì˜ì¡´ì ìœ¼ë¡œ ììœ¨ êµ°ì§‘ì£¼í–‰ì„ í•œë‹¤.</br></br>
</br>

>  &nbsp;ì´ê¸°ì¢… í•˜ë“œì›¨ì–´ ê°„ì˜ ì›í™œí•œ ë°ì´í„° ì†¡ìˆ˜ì‹ , ì²˜ë¦¬ë¥¼ ìœ„í•´ ë¡œë´‡ ì‘ìš© ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì— ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë©”íƒ€ìš´ì˜ì²´ì œì¸ ROS ë¥¼ ì´ìš©í•˜ì˜€ë‹¤. 
>  Remote PCëŠ” `ì¤‘ì•™ ê´€ë¦¬ ì‹œìŠ¤í…œ`ìœ¼ë¡œì„œ ì°¨ì„  ì¸ì‹ê³¼ êµ°ì§‘ì£¼í–‰ ìœ„í•œ ì—°ì‚° ë“±ì˜ ë©”ì¸ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•œë‹¤. Car1, 2ì˜ raspberry piëŠ” ì¹´ë©”ë¼ ì´ë¯¸ì§€, ë¼ì´ë‹¤ ì„¼ì„œ ë“±ì˜ ë°ì´í„°ë¥¼ Remote PCë¡œ 
>  publish í•˜ê±°ë‚˜ ëª¨í„° ì œì–´ ê°’ì„ Remote PCë¡œë¶€í„° subscribe í•˜ëŠ” êµ¬ì¡°ì´ë‹¤.

</br>

### êµ°ì§‘ì£¼í–‰ ì•Œê³ ë¦¬ì¦˜
* ì¶©ëŒì œì–´ ì•Œê³ ë¦¬ì¦˜
<p align= "center">
<img src="/docs/README_Image/diagram5.png" width="544" height="500"></p>

* êµ°ì§‘ ì£¼í–‰ ì‹œë‚˜ë¦¬ì˜¤

Step 1. ì¶œë°œ ì „ **Car 1**ê³¼ **Car 2**ëŠ” ì¼ì§ì„ ìƒì— ìœ„ì¹˜í•œë‹¤.

Step 2. **Car 2**ê°€ LIDAR sensorë¥¼ ì´ìš©í•˜ì—¬ ì°¨ê°„ê±°ë¦¬ë¥¼ ì¸¡ì •í•œë‹¤.

Step 3. **Car 1**ì´ ì¶œë°œí•˜ëŠ” ìˆœê°„ **Car 2**ëŠ” ì°¨ê°„ ê±°ë¦¬ë§Œí¼ ì§ì§„í•œë‹¤.

Step 4. ì¶œë°œê³¼ ë™ì‹œì— **Car 1**ì˜ Gyro sensor dataë¥¼ bufferì— ì €ì¥í•œë‹¤.

Step 5. Step 2 ì™„ë£Œ í›„, **Remote PC**ëŠ” **Car 1**ê³¼ **Car 2** ê°„ì˜ Yawê°’ì„ ê°ê° ë¹„êµë¥¼ í•˜ê³  PD ì œì–´ë¥¼ í†µí•´ **Car 2**ì— ê°ì†ë„ë¥¼ Publish(ì „ì†¡) í•´ì¤€ë‹¤.

Step 6. **Car 2**ì˜ LIDAR sensorë¥¼ ì´ìš©í•˜ì—¬, ì£¼í–‰ ì¤‘ ì°¨ê°„ ê±°ë¦¬ê°€ ë„ˆë¬´ ê°€ê¹Œìš°ë©´ ê°ì†í•œë‹¤.

</br>

### ê²°ê³¼
* ì‹œì—°ì˜ìƒ
<p align="center"><img src="/docs/README_Image/video_result.gif" width="768" height ="432"></p>  

</br>

# 4. ì˜¤í”ˆì†ŒìŠ¤ í™œìš© ë‚´ì—­ </br>
1ï¸âƒ£ https://github.com/ROBOTIS-GIT/turtlebot3_autorace/tree/master/turtlebot3_autorace_camera</br>
2ï¸âƒ£ https://github.com/ROBOTIS-GIT/turtlebot3_autorace/tree/master/turtlebot3_autorace_detect</br>
3ï¸âƒ£ https://github.com/ROBOTIS-GIT/turtlebot3_autorace/tree/master/turtlebot3_autorace_control</br>
4ï¸âƒ£ https://github.com/ROBOTIS-GIT/turtlebot3_applications/tree/master/turtlebot3_follower</br>
5ï¸âƒ£ https://github.com/ROBOTIS-GIT/turtlebot3_applications/tree/master/turtlebot3_follow_filter</br>


# 5. ì°¸ê³ ë¬¸í—Œ
 ğŸ“™ ì´ì„¤ì˜, et al. ììœ¨í˜‘ë ¥ì£¼í–‰ í™˜ê²½ì—ì„œ êµ°ì§‘ì£¼í–‰ì— ë”°ë¥¸ íš¨ê³¼ë¶„ì„. ëŒ€í•œêµí†µí•™íšŒ í•™ìˆ ëŒ€íšŒì§€, 2017, 423-428.</br>
 ğŸ“™ ì¡°ì˜; ê¶Œê²½ì£¼; ì˜¤ì² . ê³ ì†ë„ë¡œ í™”ë¬¼ì°¨ êµ°ì§‘ì£¼í–‰ ì ìš©êµ¬ê°„ ì„ ì • ì—°êµ¬. ëŒ€í•œêµí†µí•™íšŒì§€, 2018, 98-111.</br>
 ğŸ“™ ê¹€ì˜ˆì§„, ì •í•˜ë¦¼, ê³ ìš°ë¦¬, ë°•ì¤‘ê·œ, ìœ¤ì¼ìˆ˜. ë©”íƒ€ë¶„ì„ì„ ì´ìš©í•œ í™”ë¬¼ì°¨ êµ°ì§‘ì£¼í–‰ì˜ íš¨ê³¼ ë¶„ì„. í•œêµ­ITSí•™íšŒë…¼ë¬¸ì§€, 2022, 76-90.</br>
</br></br> 
  
